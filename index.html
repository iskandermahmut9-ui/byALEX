<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <title>Разработка сайтов на чистом коде | Digital Solutions by Alex</title>
    <meta name="description" content="Создаю быстрые и стильные сайты на Pure HTML/CSS/JS.">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;700;800&family=Pinyon+Script&family=JetBrains+Mono:wght@400;700;800&display=swap" rel="stylesheet">

    <style>
        /* --- 1. ГЛОБАЛЬНЫЕ НАСТРОЙКИ --- */
        :root {
            --bg-main: #0e0e0e; 
            --text-main: #ededed;
            --text-muted: #999;
            --accent: #ff3b6f; 
            --radius-card: 20px; 
            --radius-btn: 12px;
            --grid-size: 30px; 
        }

        *, *::before, *::after { box-sizing: border-box; }

        html { scroll-behavior: smooth; cursor: none; }
        
        @media (pointer: coarse) { 
            html { cursor: auto; } 
            .cursor-dot, .cursor-outline { display: none !important; }
        }

        body {
            margin: 0; padding: 0;
            background-color: var(--bg-main);
            color: var(--text-main);
            font-family: 'Manrope', sans-serif;
            overflow-x: hidden;
            position: relative;
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
        }
        
        body.loading { overflow: hidden; height: 100vh; }

        a { text-decoration: none; color: inherit; transition: 0.3s; cursor: none; outline: none; -webkit-tap-highlight-color: transparent; }
        button { cursor: none; -webkit-tap-highlight-color: transparent;}

        /* --- 2. PRELOADER --- */
        #preloader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: #000;
            z-index: 99999;
            display: flex; align-items: center; justify-content: center;
            font-family: 'JetBrains Mono', monospace;
            color: var(--accent);
            padding: 20px;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        #preloader.loaded { opacity: 0; visibility: hidden; }
        
        .terminal-container { width: 100%; max-width: 900px; text-align: left; }
        .terminal-line { 
            display: block; margin-bottom: 5px; opacity: 0; 
            animation: fadeInLine 0.05s forwards; 
            color: #fff; font-size: clamp(1rem, 4vw, 2rem);
            font-weight: 700; letter-spacing: -1px;
            word-wrap: break-word;
        }
        .terminal-line.accent { color: var(--accent); }
        @keyframes fadeInLine { to { opacity: 1; } }

        /* --- 3. СЕТКА И ФОН --- */
        .grid-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -10; pointer-events: none;
        }

        .grid-base {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-image: 
                linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: var(--grid-size) var(--grid-size);
        }

        .grid-glow {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-image: 
                linear-gradient(rgba(255, 59, 111, 1) 2px, transparent 2px),
                linear-gradient(90deg, rgba(255, 59, 111, 1) 2px, transparent 2px);
            background-size: var(--grid-size) var(--grid-size);
            mask-image: radial-gradient(circle 80px at var(--mouse-x, 50%) var(--mouse-y, 50%), black 0%, transparent 100%);
            -webkit-mask-image: radial-gradient(circle 80px at var(--mouse-x, 50%) var(--mouse-y, 50%), black 0%, transparent 100%);
            filter: drop-shadow(0 0 5px rgba(255, 59, 111, 0.8));
            opacity: 1;
        }

        /* --- 4. КУРСОР --- */
        .cursor-dot, .cursor-outline {
            position: fixed; top: 0; left: 0;
            transform: translate(-50%, -50%);
            border-radius: 50%; z-index: 9999;
            pointer-events: none;
        }
        .cursor-dot { width: 6px; height: 6px; background-color: var(--accent); box-shadow: 0 0 10px var(--accent); }
        .cursor-outline {
            width: 50px; height: 50px;
            background-color: rgba(255, 255, 255, 0.05); 
            backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.2); 
            transition: width 0.2s, height 0.2s, background-color 0.2s;
        }
        body.hovering .cursor-outline {
            width: 80px; height: 80px;
            background-color: rgba(255, 59, 111, 0.1);
            border-color: var(--accent);
            backdrop-filter: blur(8px);
        }

        /* --- 5. ХЕДЕР --- */
        header {
            padding: 15px 40px; 
            display: flex; justify-content: space-between; align-items: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            position: sticky; top: 0; 
            background-color: rgba(14, 14, 14, 0.6); 
            backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            z-index: 100;
        }

        .brand-logo { display: flex; align-items: baseline; gap: 10px; transition: transform 0.3s ease; text-decoration: none;}
        .brand-logo:hover { transform: scale(1.05); }
        .brand-logo:hover .brand-name { color: var(--accent); }
        .brand-by { font-family: 'Pinyon Script', cursive; font-size: 1.8rem; color: var(--text-muted); text-transform: lowercase; }
        .brand-name { font-weight: 800; font-size: 2.2rem; letter-spacing: 2px; color: white; display: flex; align-items: center; }
        .burger-in-text { display: inline-flex; flex-direction: column; justify-content: space-between; width: 0.7em; height: 0.75em; margin: 0 2px; }
        .burger-line { width: 100%; height: 22%; background-color: white; border-radius: 1px; }

        .nav-menu { 
            display: flex; gap: 40px; 
            position: absolute; left: 50%; transform: translateX(-50%); 
        }
        .nav-link {
            font-size: 1rem; text-transform: uppercase; letter-spacing: 1px; 
            color: var(--text-muted); font-weight: 800; position: relative;
        }
        .nav-link:hover { color: white; }
        .nav-link::after {
            content: ''; position: absolute; width: 0; height: 2px; bottom: -5px; left: 0;
            background-color: var(--accent); transition: width 0.3s;
        }
        .nav-link:hover::after { width: 100%; }

        /* --- ПЛАШКИ --- */
        .glass-panel {
            position: relative;
            z-index: 10;
            background-color: rgba(20, 20, 20, 0.7); 
            backdrop-filter: blur(60px); -webkit-backdrop-filter: blur(60px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            transform-style: preserve-3d;
            transform: perspective(1000px);
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            overflow: hidden; 
        }

        .glass-panel::before {
            content: ""; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            border-radius: inherit; padding: 1px; width: 100%; height: 100%;
            background: radial-gradient(300px circle at var(--card-x, 50%) var(--card-y, 50%), rgba(255, 59, 111, 0.6), transparent 40%);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor; mask-composite: exclude;
            z-index: 2; opacity: 0; transition: opacity 0.3s; pointer-events: none;
        }
        .glass-panel:hover::before, .glass-panel.mobile-hover::before { opacity: 1; }

        .glass-panel::after {
            content: ""; position: absolute; inset: 0; z-index: -2; 
            background: radial-gradient(circle at center, rgba(255, 59, 111, 0.4) 0%, transparent 70%);
            opacity: 0; border-radius: inherit; transition: all 0.4s ease; transform: scale(0.8);
        }
        .glass-panel:hover, .glass-panel.mobile-hover {
            transform: translateY(-8px) scale(1.01);
            box-shadow: 0 30px 60px rgba(0,0,0,0.7);
            border-color: rgba(255, 59, 111, 0.3);
        }
        .glass-panel:hover::after, .glass-panel.mobile-hover::after { opacity: 1; transform: scale(1.1) translateY(10px); }

        /* --- ГЛИТЧ --- */
        .glitch-effect {
            position: relative;
            text-shadow: 4px 0 rgba(255, 0, 80, 0.8), -4px 0 rgba(0, 255, 255, 0.8);
            animation: glitch-anim-max 0.2s infinite linear alternate-reverse;
        }
        .glitch-effect, .glitch-effect * { color: var(--accent) !important; }

        @keyframes glitch-anim-max {
            0% { transform: translate(0) skew(0deg); opacity: 1; }
            20% { transform: translate(-5px, 3px) skew(3deg); opacity: 0.9; }
            40% { transform: translate(5px, -3px) skew(-3deg); opacity: 0.8; filter: hue-rotate(90deg); }
            60% { transform: translate(-7px, 2px) skew(1deg); opacity: 1; }
            80% { transform: translate(3px, 5px) skew(-2deg); opacity: 0.9; filter: hue-rotate(-90deg);}
            100% { transform: translate(0) skew(0deg); opacity: 1; }
        }

        /* --- КНОПКИ --- */
        .cta-btn, .case-btn-full {
            display: inline-block; text-align: center; white-space: normal; 
            word-wrap: break-word; overflow-wrap: break-word;
            width: fit-content; max-width: 100%;
            padding: 12px 25px; font-size: 0.85rem; text-transform: uppercase; font-weight: 700; letter-spacing: 1.5px;
            color: #fff; border-radius: var(--radius-btn);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        .case-btn-full { width: 100%; margin-top: 20px; }
        
        .cta-btn:hover, .case-btn-full:hover, .cta-btn.mobile-hover, .case-btn-full.mobile-hover { 
            background-color: rgba(255, 59, 111, 0.2); color: white; transform: translateY(-3px);
        }
        .cta-btn:active, .case-btn-full:active {
            transform: translateY(2px) !important; background-color: rgba(255, 59, 111, 0.3); box-shadow: 0 2px 10px rgba(0,0,0,0.5); transition: all 0.1s;
        }
        header .cta-btn { background-color: rgba(255,255,255,0.05); border-color: rgba(255,255,255,0.2); }

        /* --- ТИПОГРАФИКА --- */
        h1 { 
            font-size: clamp(2.5rem, 8vw, 5.5rem); line-height: 1.1; margin: 0 0 30px 0; color: white; text-transform: uppercase;
            font-family: 'JetBrains Mono', monospace; letter-spacing: -2px; display: inline-block; cursor: none; 
        }
        h2 { 
            font-family: 'JetBrains Mono', monospace; font-size: clamp(2rem, 6vw, 4rem); 
            line-height: 1.1; letter-spacing: -2px; margin-bottom: 40px; color: white; text-transform: uppercase; font-weight: 400;
            display: inline-block; cursor: none; transition: transform 0.4s ease-out;
        }
        h2:hover { transform: scale(1.02); color: var(--accent); }
        p { font-size: 1rem; line-height: 1.7; color: var(--text-muted); }

        .fade-in-section { opacity: 0; transform: translateY(20px); transition: opacity 0.8s ease-out, transform 0.8s ease-out; will-change: opacity, transform; }
        .fade-in-section.is-visible { opacity: 1; transform: none; }

        /* --- СЕКЦИИ --- */
        section { padding: 100px 40px; border-bottom: 1px solid rgba(255,255,255,0.05); z-index: 5; position: relative;}
        .hero { padding-top: 140px; padding-bottom: 140px; background: transparent; position: relative; display: flex; flex-direction: column; }
        
        .hero-subtitle { display: block; width: 100%; color: var(--accent); font-size: 1.3rem; text-transform: uppercase; letter-spacing: 3px; margin-bottom: 25px; font-weight: 600; }
        .hero-text-block span { display: block; font-size: 1.4rem; margin-bottom: 10px; color: #ccc; }

        /* Фоновая картинка */
        .global-phantom-img {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 80vw; height: 80vh; object-fit: contain; opacity: 0; pointer-events: none; z-index: -2;
            mix-blend-mode: screen; filter: grayscale(100%) sepia(100%) hue-rotate(290deg) saturate(300%) drop-shadow(0 0 15px var(--accent));
        }
        @keyframes phantom-zoom-vanish {
            0% { opacity: 0.8; transform: translate(-50%, -50%) scale(0.9); filter: grayscale(100%) sepia(100%) hue-rotate(290deg) saturate(500%) brightness(1.5) drop-shadow(0 0 50px var(--accent)); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(3); filter: grayscale(100%) sepia(100%) hue-rotate(290deg) saturate(300%) drop-shadow(0 0 15px var(--accent)); }
        }
        .global-phantom-img.active { animation: phantom-zoom-vanish 0.4s cubic-bezier(0.165, 0.84, 0.44, 1) forwards; }

        /* --- КЕЙСЫ --- */
        .cases { padding: 80px 40px; }
        .cases-grid-container { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; margin-top: 40px; }
        .case-card { display: grid; grid-template-columns: 45% 55%; border-radius: var(--radius-card); }
        .case-left-col { border-right: 1px solid rgba(255,255,255,0.05); display: flex; flex-direction: column; background: rgba(0,0,0,0.3); }
        .case-visual-wrapper { padding: 20px; display: flex; justify-content: center; align-items: center; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .browser-window { width: 100%; background: #000; border: 1px solid rgba(255,255,255,0.15); border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); overflow: hidden; }
        .browser-header { height: 18px; background: #222; border-bottom: 1px solid rgba(255,255,255,0.1); display: flex; align-items: center; padding-left: 8px; gap: 5px; }
        .browser-dot { width: 4px; height: 4px; border-radius: 50%; background: #444; }
        .dot-red { background: #ff5f56; } .dot-yellow { background: #ffbd2e; } .dot-green { background: #27c93f; }
        .case-image { width: 100%; aspect-ratio: 16/8; background-size: cover; background-position: top center; display: block; }
        .case-meta { padding: 20px; display: flex; flex-direction: column; justify-content: center; flex-grow: 1; }
        .tech-specs { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .spec-item { display: flex; flex-direction: column; gap: 2px; }
        .spec-label { font-size: 0.55rem; color: #aaa; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 3px; }
        .scramble-num { font-size: 0.9rem; color: white; font-weight: 600; font-family: 'JetBrains Mono', monospace; } 
        .case-right-col { padding: 25px; display: flex; flex-direction: column; }
        .case-tag { font-size: 0.65rem; text-transform: uppercase; letter-spacing: 2px; color: var(--accent); margin-bottom: 5px; font-weight: 600; opacity: 0.8;}
        .case-title { font-size: 1.8rem; margin-bottom: 15px; color: white; line-height: 1.1; font-family: 'JetBrains Mono', monospace;}
        .story-block { margin-bottom: 15px; }
        .story-label { font-size: 0.7rem; color: white; font-weight: 700; text-transform: uppercase; margin-bottom: 5px; border-left: 2px solid var(--accent); padding-left: 8px; }
        .story-text { font-size: 0.9rem; color: #ccc; line-height: 1.4; }
        .story-list { margin: 5px 0 0 0; padding: 0; }
        .story-list li { font-size: 0.9rem; color: #ccc; padding-left: 12px; margin-bottom: 3px; position: relative; list-style: none;}
        .story-list li::before { content: "•"; position: absolute; left: 0; color: var(--accent); top: 0px;}
        
        .comparison-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 40px; border: none; }
        .comp-item { padding: 30px; display: flex; flex-direction: column; border-radius: var(--radius-card); }
        .comp-item.winner { border-color: rgba(255, 59, 111, 0.5); background-color: rgba(30, 30, 30, 0.8); }
        .comp-title { font-size: 1.2rem; margin-bottom: 20px; color: white; text-transform: uppercase; letter-spacing: 1px; min-height: 40px; font-family: 'JetBrains Mono';}
        .comp-title span { font-size: 0.7em; opacity: 0.6; display: block; margin-top: 5px; text-transform: none; letter-spacing: 0; font-family: 'Manrope';}
        .comp-logo-wrapper { display: flex; align-items: baseline; gap: 10px; margin-bottom: 5px; }
        .comp-logo-wrapper .brand-by { font-family: 'Pinyon Script', cursive; font-size: 1.5rem; color: var(--text-muted); text-transform: lowercase; }
        .comp-logo-wrapper .brand-name { font-weight: 800; font-size: 1.8rem; letter-spacing: 2px; color: white; display: flex; align-items: center; }
        .comp-list { padding: 0; margin: 0; list-style: none;}
        .comp-list li { margin-bottom: 15px; font-size: 0.9rem; color: var(--text-muted); gap: 10px; display: flex; align-items: flex-start;}
        .price-highlight { display: block; font-size: 1.3rem; color: var(--accent); font-weight: 700; margin-bottom: 4px; font-family: 'JetBrains Mono';}
        .good { color: var(--accent); font-weight: bold; min-width: 20px; font-size: 1.2rem;}
        .bad { color: #ff4d4d; font-weight: bold; min-width: 20px; font-size: 1.2rem;}
        .neutral { color: #aaa; font-weight: bold; min-width: 20px; font-size: 1.2rem;}

        .pricing-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-top: 60px; border: none; }
        .price-card { padding: 30px 20px; border-radius: var(--radius-card); display: flex; flex-direction: column; min-height: 450px; justify-content: space-between; }
        .price-amount { font-size: 2.5rem; color: var(--accent); font-weight: 700; margin: 10px 0 20px 0; font-family: 'JetBrains Mono'; white-space: nowrap; }
        .price-name { font-size: 1rem; color: #fff; text-transform: uppercase; letter-spacing: 1px; font-weight: 800; min-height: 30px;}
        .price-list { padding: 0; margin: 0; list-style: none; }
        .price-list li { font-size: 0.85rem; color: #ccc; margin-bottom: 10px; position: relative; padding-left: 15px; line-height: 1.3; }
        .price-list li::before { content: "›"; position: absolute; left: 0; color: var(--accent); font-weight: bold; top: -1px; }

        /* --- КАЛЬКУЛЯТОР --- */
        #calculator { padding-top: 60px; padding-bottom: 100px; }
        .calc-wrapper {
            background-color: rgba(20, 20, 20, 0.7); 
            backdrop-filter: blur(60px); -webkit-backdrop-filter: blur(60px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: var(--radius-card);
            padding: 40px;
            display: grid; grid-template-columns: 2fr 1fr; gap: 40px;
        }
        .calc-left h3 { font-size: 1.5rem; margin-top: 0; margin-bottom: 25px; color: white; font-family: 'JetBrains Mono'; text-transform: uppercase; }
        .calc-group { margin-bottom: 30px; }
        .calc-label { display: block; font-size: 0.9rem; color: var(--text-muted); margin-bottom: 15px; text-transform: uppercase; letter-spacing: 1px; font-weight: 700; }
        
        .calc-options-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 15px; }
        
        /* КНОПКИ КАЛЬКУЛЯТОРА */
        .calc-option {
            padding: 20px; border: 1px solid rgba(255,255,255,0.1); border-radius: 12px;
            cursor: pointer; 
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); 
            background: rgba(255,255,255,0.02);
            text-align: center; font-weight: 600; color: #ccc;
            position: relative; overflow: hidden;
        }
        .calc-option:hover, .calc-option.mobile-hover { 
            background: rgba(255,255,255,0.05); border-color: rgba(255,255,255,0.3); 
            transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        .calc-option:active { transform: translateY(2px); box-shadow: 0 2px 5px rgba(0,0,0,0.3); }
        .calc-option::before {
            content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(150px circle at var(--card-x, 50%) var(--card-y, 50%), rgba(255, 59, 111, 0.3), transparent 100%);
            opacity: 0; transition: opacity 0.3s; pointer-events: none;
        }
        .calc-option:hover::before, .calc-option.mobile-hover::before { opacity: 1; }
        
        .calc-option.selected { 
            border-color: var(--accent); color: white; 
            background: rgba(255, 59, 111, 0.1);
            box-shadow: 0 0 15px rgba(255, 59, 111, 0.2);
            transform: translateY(0);
        }
        .calc-option.disabled { opacity: 0.4; pointer-events: none; filter: grayscale(100%); }

        .calc-option-name { display: block; font-size: 1rem; margin-bottom: 5px; }
        .calc-option-price { font-size: 0.8rem; opacity: 0.7; font-family: 'JetBrains Mono'; }

        .calc-right {
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            border-left: 1px solid rgba(255,255,255,0.1); padding-left: 40px;
        }
        .total-label { font-size: 1rem; color: #777; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 10px; }
        .total-price { 
            font-size: 3.5rem; color: var(--accent); font-weight: 800; 
            font-family: 'JetBrains Mono'; text-shadow: 0 0 20px rgba(255, 59, 111, 0.4);
            margin-bottom: 20px;
        }
        
        footer { padding: 80px 40px 40px 40px; border-top: 1px solid rgba(255,255,255,0.05); background: transparent; }
        .footer-cta { font-size: 1rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 3px; margin-bottom: 40px; }
        .footer-links-primary { display: flex; flex-direction: column; gap: 20px; margin-bottom: 60px; }
        .big-contact { font-size: clamp(3rem, 10vw, 8rem); font-weight: 800; color: white; text-transform: uppercase; letter-spacing: -2px; transition: 0.3s; width: fit-content; line-height: 0.9; }
        .big-contact:hover { opacity: 1; transform: translateX(20px); color: var(--accent); text-shadow: 0 0 30px rgba(255, 59, 111, 0.4); }
        .footer-links-secondary { display: flex; flex-direction: column; gap: 15px; }
        .medium-contact { font-size: 1.5rem; color: var(--text-muted); font-weight: 400; text-decoration: none; transition: 0.3s; display: flex; align-items: center; gap: 10px; }
        .medium-contact:hover { color: white; padding-left: 10px; }
        .contact-icon-svg { width: 24px; height: 24px; fill: var(--accent); flex-shrink: 0; }
        
        /* Исправленный футер: Центрирование */
        .footer-bottom { 
            margin-top: 80px; 
            font-size: 0.8rem; 
            color: #444; 
            display: flex; 
            justify-content: center; /* Центр по горизонтали */
            align-items: center;
            flex-direction: column; 
            text-align: center; /* Центр текста */
            gap: 20px; 
            border-top: 1px solid rgba(255,255,255,0.05); 
            padding-top: 30px; 
        }
        
        .copyright-link {
            text-decoration: none;
            color: inherit;
            transition: 0.3s;
        }
        
        .copyright-link:hover {
            color: white;
        }

        .highlight-brand {
            color: var(--accent);
            font-weight: 800;
        }

        @media (max-width: 1200px) {
            .pricing-grid { grid-template-columns: repeat(2, 1fr); }
            .price-card { min-height: auto; }
        }

        @media (max-width: 900px) {
            header { display: grid; grid-template-columns: 1fr auto; grid-template-rows: auto auto; gap: 15px; padding: 15px 20px; }
            .brand-logo { grid-column: 1; justify-self: start; }
            .brand-name { font-size: 1.6rem; }
            header .cta-btn { grid-column: 2; justify-self: end; margin: 0; padding: 10px 15px; font-size: 0.8rem; }
            .nav-menu { grid-column: 1 / -1; grid-row: 2; position: static; transform: none; display: flex; justify-content: space-between; margin: 0; gap: 5px; border-top: 1px solid rgba(255,255,255,0.05); padding-top: 10px; }
            .nav-link { font-size: 0.85rem; letter-spacing: 0.5px; }
            .cases-grid-container { grid-template-columns: 1fr; gap: 30px; }
            .case-card { grid-template-columns: 1fr; }
            .case-left-col { border-right: none; border-bottom: 1px solid rgba(255,255,255,0.05); }
            .comparison-grid { grid-template-columns: 1fr; }
            .global-phantom-img { width: 90vw; height: auto; }
            .case-btn-full { padding: 14px 20px; font-size: 0.85rem; }
            .calc-wrapper { grid-template-columns: 1fr; gap: 30px; padding: 25px; }
            .calc-right { border-left: none; border-top: 1px solid rgba(255,255,255,0.1); padding-left: 0; padding-top: 30px; }
        }

        @media (max-width: 768px) {
            section { padding: 60px 20px; }
            .cases { padding: 60px 20px; }
            .pricing-grid { grid-template-columns: 1fr; }
            .footer-bottom { flex-direction: column; align-items: center; } /* Центр на мобилках */
            .hero p { font-size: 1.1rem; }
        }
    </style>

    <script type="text/javascript">
       (function(m,e,t,r,i,k,a){
           m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
           m[i].l=1*new Date();
           for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
           k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
       })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=105889895', 'ym');

       ym(105889895, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/105889895" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    </head>
<body class="loading">

    <div id="preloader">
        <div class="terminal-container" id="terminal"></div>
    </div>

    <div class="grid-container">
        <div class="grid-base"></div>
        <div class="grid-glow" id="gridGlow"></div>
    </div>

    <img src="glitch-art.png" class="global-phantom-img" alt="Абстрактный цифровой фон в стиле киберпанк">
    
    <div class="cursor-dot" data-cursor-dot></div>
    <div class="cursor-outline" data-cursor-outline></div>

    <header>
        <a href="#" class="brand-logo">
            <span class="brand-by">by</span>
            <span class="brand-name">AL<div class="burger-in-text"><div class="burger-line"></div><div class="burger-line"></div><div class="burger-line"></div></div>X</span>
        </a>
        <nav class="nav-menu">
            <a href="#cases" class="nav-link">Кейсы</a>
            <a href="#comparison" class="nav-link">Анализ</a>
            <a href="#pricing" class="nav-link">Тарифы</a>
            <a href="#calculator" class="nav-link">Конфигуратор</a>
        </nav>
        <a href="#contact" class="cta-btn glass-panel">Написать мне</a>
    </header>

    <section class="hero fade-in-section">
        <div class="hero-subtitle">Digital Solutions by Alex</div>
        <h1 class="hover-matrix glitch-target" data-value="ВАШ БИЗНЕС.
БЕЗ ШАБЛОНОВ.
НАВСЕГДА.">ВАШ БИЗНЕС.<br>БЕЗ ШАБЛОНОВ.<br>НАВСЕГДА.</h1>
        <p class="hero-text-block">
            <span>Разрабатываю уникальные сайты на <strong>Pure HTML/CSS</strong> для тех, кто перерос конструкторы.</span>
            <span>Креаторы, Стартапы, Визуализаторы и Бренды.</span>
            <span>Вы получаете сайт с характером, который принадлежит вам на 100%.</span>
            <span>Никаких ежемесячных платежей.</span>
        </p>
    </section>

    <section class="cases fade-in-section" id="cases">
        <h2 class="hover-matrix glitch-target" data-value="Избранные Кейсы">Избранные Кейсы</h2>
        
        <div class="cases-grid-container">
            <div class="case-card glass-panel glitch-target" data-tilt>
                <div class="case-left-col">
                    <div class="case-visual-wrapper">
                        <div class="browser-window">
                            <div class="browser-header"><div class="browser-dot dot-red"></div><div class="browser-dot dot-yellow"></div><div class="browser-dot dot-green"></div></div>
                            <div class="case-image" style="background-image: url('case-3dcross.jpg');" title="3D Visualization Studio Website"></div>
                        </div>
                    </div>
                    <div class="case-meta">
                        <div class="tech-specs">
                            <div class="spec-item"><span class="spec-label">Срок реализации</span><span class="spec-value scramble-num">3 дня</span></div>
                            <div class="spec-item"><span class="spec-label">Стоимость</span><span class="spec-value scramble-num">15 000 ₽</span></div>
                        </div>
                        <a href="https://3dcross.ru" target="_blank" class="case-btn-full glass-panel">Смотреть сайт live ↗</a>
                    </div>
                </div>
                <div class="case-right-col">
                    <div class="case-tag">CGI & Production</div>
                    <h3 class="case-title hover-matrix" data-value="3D\CROSS">3D\CROSS</h3>
                    <div class="story-block"><div class="story-label">Задача</div><p class="story-text">Упаковать портфолио студии так, чтобы оно мгновенно грузилось на смартфонах и выглядело дороже, чем PDF-презентация.</p></div>
                    <div class="story-block">
                        <div class="story-label">Дизайн и Фишки</div>
                        <ul class="story-list">
                            <li>Cinematic Slider: Эффект плавного наезда камеры (Ken Burns).</li>
                            <li>Smart Video: Автовозврат к обложке.</li>
                            <li>Lightbox 4K: Просмотр рендеров в полном качестве без задержек.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="case-card glass-panel glitch-target" data-tilt>
                <div class="case-left-col">
                    <div class="case-visual-wrapper">
                        <div class="browser-window">
                            <div class="browser-header"><div class="browser-dot dot-red"></div><div class="browser-dot dot-yellow"></div><div class="browser-dot dot-green"></div></div>
                            <div class="case-image" style="background-image: url('case-dg.jpg');" title="SMM Portfolio Website"></div>
                        </div>
                    </div>
                    <div class="case-meta">
                        <div class="tech-specs">
                            <div class="spec-item"><span class="spec-label">Срок реализации</span><span class="spec-value scramble-num">5 дней</span></div>
                            <div class="spec-item"><span class="spec-label">Стоимость</span><span class="spec-value scramble-num">40 000 ₽</span></div>
                        </div>
                        <a href="https://d-gavrilenko.ru" target="_blank" class="case-btn-full glass-panel">Смотреть сайт live ↗</a>
                    </div>
                </div>
                <div class="case-right-col">
                    <div class="case-tag">SMM & Personal Brand</div>
                    <img src="logo.png" alt="Логотип личного бренда SMM специалиста" class="case-title-logo" style="max-height: 45px; width: auto; object-fit: contain; align-self: flex-start; margin-bottom: 20px; display: block;">
                    <div class="story-block"><div class="story-label">Задача</div><p class="story-text">Разработать имиджевый сайт для начинающего SMM менеджера. Показать его портфолио и достижения. Сделана вторая страница, чтобы не перегружать информацией главную страницу.</p></div>
                    <div class="story-block">
                        <div class="story-label">Дизайн и Фишки</div>
                        <ul class="story-list">
                            <li>Multipage Structure: Разделение главной и портфолио.</li>
                            <li>Smooth Scroll: Плавная прокрутка (Lenis).</li>
                            <li>Adaptive Grid: Удобный просмотр кейсов.</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="case-card glass-panel glitch-target" style="opacity: 0.8;" data-tilt>
                <div class="case-left-col">
                    <div class="case-visual-wrapper">
                        <div class="browser-window" style="height: 100%; display: flex; align-items: center; justify-content: center; background: #111;">
                            <span style="color: #444; font-family: 'JetBrains Mono';">SOON</span>
                        </div>
                    </div>
                    <div class="case-meta">
                        <div class="tech-specs">
                            <div class="spec-item"><span class="spec-label">Срок реализации</span><span class="spec-value scramble-num">5 дней</span></div>
                            <div class="spec-item"><span class="spec-label">Стоимость</span><span class="spec-value scramble-num">—</span></div>
                        </div>
                        <button class="case-btn-full glass-panel" disabled style="opacity: 0.5; cursor: not-allowed;">В разработке</button>
                    </div>
                </div>
                <div class="case-right-col">
                    <div class="case-tag">Tech & Startups</div>
                    <h3 class="case-title">CRYPTO STARTUP</h3>
                    <div class="story-block"><div class="story-label">Задача</div><p class="story-text">Вызвать доверие инвесторов и показать технологичность продукта без использования тяжелых 3D-библиотек.</p></div>
                    <div class="story-block">
                        <div class="story-label">Дизайн и Фишки</div>
                        <ul class="story-list">
                            <li>Neon Glass: Глубокий эффект матового стекла.</li>
                            <li>Data Scramble: Анимация цифр (как у нас на сайте).</li>
                            <li>Interactive Roadmap: Живая карта развития проекта.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="case-card glass-panel glitch-target" style="opacity: 0.8;" data-tilt>
                <div class="case-left-col">
                    <div class="case-visual-wrapper">
                        <div class="browser-window" style="height: 100%; display: flex; align-items: center; justify-content: center; background: #111;">
                            <span style="color: #444; font-family: 'JetBrains Mono';">SOON</span>
                        </div>
                    </div>
                    <div class="case-meta">
                        <div class="tech-specs">
                            <div class="spec-item"><span class="spec-label">Срок реализации</span><span class="spec-value scramble-num">2 дня</span></div>
                            <div class="spec-item"><span class="spec-label">Стоимость</span><span class="spec-value scramble-num">—</span></div>
                        </div>
                        <button class="case-btn-full glass-panel" disabled style="opacity: 0.5; cursor: not-allowed;">В разработке</button>
                    </div>
                </div>
                <div class="case-right-col">
                    <div class="case-tag">Personal Brand</div>
                    <h3 class="case-title">PERSONAL MEDIA KIT</h3>
                    <div class="story-block"><div class="story-label">Задача</div><p class="story-text">Собрать все ссылки, гайды и контакты в одном стильном месте, заменив скучный Linktree.</p></div>
                    <div class="story-block">
                        <div class="story-label">Дизайн и Фишки</div>
                        <ul class="story-list">
                            <li>Dark Mode UI: Премиальная темная тема.</li>
                            <li>Bio-Link: Быстрые кнопки мессенджеров.</li>
                            <li>Instant Load: Моментальная загрузка из Instagram/TikTok.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="fade-in-section" id="comparison">
        <h2 class="hover-matrix glitch-target" data-value="АНАЛИЗ">АНАЛИЗ</h2>
        <div class="comparison-grid">
            <div class="comp-item glass-panel glitch-target" data-tilt>
                <div class="comp-title">Конструкторы<br><span>(Tilda, Wix)</span></div>
                <ul class="comp-list">
                    <li><span class="bad">✕</span> <div><span class="price-highlight scramble-num">12 000 ₽ / год</span>Аренда навсегда</div></li>
                    <li><span class="bad">✕</span> Сайт вам не принадлежит</li>
                    <li><span class="good">✓</span> Делается быстро</li>
                </ul>
            </div>
            <div class="comp-item glass-panel glitch-target" data-tilt>
                <div class="comp-title">Веб-студии<br><span>(Агентства)</span></div>
                <ul class="comp-list">
                    <li><span class="bad">✕</span> <div><span class="price-highlight scramble-num">50 000 ₽ +</span>Высокая цена</div></li>
                    <li><span class="good">✓</span> Уникальный дизайн</li>
                    <li><span class="bad">✕</span> Долго (от 3 недель)</li>
                    <li><span class="neutral">!</span> Сложная коммуникация</li>
                </ul>
            </div>
            <div class="comp-item winner glass-panel glitch-target" data-tilt>
                <div class="comp-title">
                    <div class="comp-logo-wrapper">
                        <span class="brand-by">by</span>
                        <span class="brand-name">AL<div class="burger-in-text"><div class="burger-line"></div><div class="burger-line"></div><div class="burger-line"></div></div>X</span>
                    </div>
                    <span>(Чистый код)</span>
                </div>
                <ul class="comp-list">
                    <li><span class="good">✓</span> <div><span class="price-highlight scramble-num">15 000 ₽</span>Один раз. Навсегда.</div></li>
                    <li><span class="good">✓</span> 0 ₽ обслуживание</li>
                    <li><span class="good">✓</span> 100% ваш код и домен</li>
                    <li><span class="good">✓</span> Готовность за 3-4 дня</li>
                </ul>
            </div>
        </div>
    </section>

    <section class="fade-in-section" id="pricing">
        <h2 class="hover-matrix glitch-target" data-value="Тарифы">Тарифы</h2>
        <div class="pricing-grid">
            <div class="price-card glass-panel glitch-target" data-tilt>
                <div class="price-name">BASE</div>
                <div class="price-amount scramble-num">15 000 ₽</div>
                <ul class="price-list">
                    <li>Сайт-визитка или портфолио</li>
                    <li>До 5 смысловых блоков</li>
                    <li>Минимум спецэффектов</li>
                    <li>Полная мобильная адаптация</li>
                    <li>Favicon (иконка браузера)</li>
                    <li>Open Graph (красивые ссылки в соцсетях)</li>
                </ul>
            </div>
            <div class="price-card glass-panel glitch-target" style="border-color: rgba(255,255,255,0.2);" data-tilt>
                <div class="price-name" style="color: white;">DIGITAL ART</div>
                <div class="price-amount scramble-num">25 000 ₽</div>
                <ul class="price-list">
                    <li><strong>Всё, что в BASE</strong></li>
                    <li>Уникальный дизайн</li>
                    <li>Сложные анимации (3D Tilt)</li>
                    <li>Spotlight (Умная рамка)</li>
                    <li>Скрамблинг текста</li>
                    <li>Интерактивные элементы</li>
                </ul>
            </div>
            <div class="price-card glass-panel glitch-target" data-tilt>
                <div class="price-name">MULTIPAGE</div>
                <div class="price-amount scramble-num">40 000 ₽</div>
                <ul class="price-list">
                    <li><strong>Всё, что в DIGITAL ART</strong></li>
                    <li>Двухстраничная структура</li>
                    <li>Дизайн и структура второй страницы</li>
                    <li>Отдельная страница кейса/проекта</li>
                </ul>
            </div>
            <div class="price-card glass-panel glitch-target" data-tilt>
                <div class="price-name" style="color: var(--accent);">SEO ADD-ON</div>
                <div class="price-amount scramble-num">+ 5 000 ₽</div>
                <ul class="price-list">
                    <li>Подбор ключевых слов (Yandex/Google)</li>
                    <li>Правильное описание картинок (Alt)</li>
                    <li>Регистрация сайта в поисковиках</li>
                    <li>Подключение Яндекс.Метрики</li>
                </ul>
            </div>
            <div class="price-card glass-panel glitch-target" data-tilt>
                <div class="price-name">ПОДДЕРЖКА</div>
                <div class="price-amount scramble-num">2 000 ₽</div>
                <ul class="price-list">
                    <li>Разовое обновление контента</li>
                    <li>Добавление нового блока</li>
                </ul>
            </div>
        </div>
    </section>

    <section id="calculator" class="fade-in-section">
        <h2 class="hover-matrix glitch-target" data-value="КОНФИГУРАТОР">КОНФИГУРАТОР</h2>
        <div class="calc-wrapper">
            <div class="calc-left">
                <div class="calc-group">
                    <span class="calc-label">ВЫБЕРИТЕ ЯДРО СИСТЕМЫ</span>
                    <div class="calc-options-grid" id="base-options">
                        <div class="calc-option selected" data-price="15000">
                            <span class="calc-option-name">BASE</span>
                            <span class="calc-option-price">15 000 ₽</span>
                        </div>
                        <div class="calc-option" data-price="25000">
                            <span class="calc-option-name">DIGITAL ART</span>
                            <span class="calc-option-price">25 000 ₽</span>
                        </div>
                    </div>
                </div>

                <div class="calc-group">
                    <span class="calc-label">ПОДКЛЮЧИТЬ МОДУЛИ</span>
                    <div class="calc-options-grid">
                        <div class="calc-option addon" data-price="5000">
                            <span class="calc-option-name">SEO PACK</span>
                            <span class="calc-option-price">+ 5 000 ₽</span>
                        </div>
                        <div class="calc-option addon" data-price="6000">
                            <span class="calc-option-name">ПОДДЕРЖКА</span>
                            <span class="calc-option-price" style="font-size: 0.7rem; display: block; margin-top: 2px;">(месяц / до 4 загрузок)</span>
                            <span class="calc-option-price">+ 6 000 ₽</span>
                        </div>
                        <div class="calc-option addon" data-price="5000">
                            <span class="calc-option-name">КОНФИГУРАТОР</span>
                            <span class="calc-option-price" style="font-size: 0.7rem; display: block; margin-top: 2px;">(доп. модуль)</span>
                            <span class="calc-option-price">+ 5 000 ₽</span>
                        </div>
                    </div>
                </div>

                <div class="calc-group">
                    <span class="calc-label">ДОПОЛНИТЕЛЬНЫЕ СТРАНИЦЫ</span>
                    <div class="calc-options-grid">
                        <div class="calc-option seq-page" data-price="15000" data-page-index="0">
                            <span class="calc-option-name">2-я страница</span>
                            <span class="calc-option-price">+ 15 000 ₽</span>
                        </div>
                        <div class="calc-option seq-page disabled" data-price="10000" data-page-index="1">
                            <span class="calc-option-name">3-я страница</span>
                            <span class="calc-option-price">+ 10 000 ₽</span>
                        </div>
                        <div class="calc-option seq-page disabled" data-price="10000" data-page-index="2">
                            <span class="calc-option-name">4-я страница</span>
                            <span class="calc-option-price">+ 10 000 ₽</span>
                        </div>
                        <div class="calc-option seq-page disabled" data-price="5000" data-page-index="3">
                            <span class="calc-option-name">5-я страница</span>
                            <span class="calc-option-price">+ 5 000 ₽</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="calc-right">
                <span class="total-label">Итоговая оценка</span>
                <span class="total-price scramble-num" id="total-price-display">15 000 ₽</span>
                
                <a href="#" id="sendOrderBtn" class="cta-btn glass-panel" style="width: 100%; text-align: center;">Заказать конфигурацию</a>
            </div>
        </div>
    </section>

    <footer id="contact" class="fade-in-section">
        <div class="footer-cta hover-matrix" data-value="Готовы выделиться среди конкурентов?">Готовы выделиться среди конкурентов?</div>
        <div class="footer-links-primary">
            <a href="https://t.me/GavAlexandr" target="_blank" class="big-contact glitch-target">TELEGRAM ↗</a>
            <a href="https://max.ru/u/f9LHodD0cOINNX4XitygJIdHULaRM3fOY_Z-Zq7cl2il4RqZBcMWAQJhqwE" target="_blank" class="big-contact glitch-target">MAX ↗</a>
        </div>
        <div class="footer-links-secondary">
            <a href="mailto:byalexstudio@mail.ru" class="medium-contact"><svg class="contact-icon-svg" viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg>byalexstudio@mail.ru</a>
            <a href="tel:+79150469023" class="medium-contact"><svg class="contact-icon-svg" viewBox="0 0 24 24"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></svg>+7 (915) 046-90-23</a>
        </div>
        <div class="footer-bottom">
            <div>
                <a href="#" class="copyright-link">
                    © 2025 <span class="highlight-brand">by AL☰X</span>
                </a>
                <br>
                Все права защищены.
            </div>
        </div>
    </footer>

    <script>
        // 1. ИНИЦИАЛИЗАЦИЯ ТЕЛЕГРАМА
        let tg = window.Telegram.WebApp;
        tg.expand();

        // 2. ОБРАБОТКА КЛИКА ПО КНОПКЕ "ЗАКАЗАТЬ"
        document.getElementById('sendOrderBtn').addEventListener('click', function(e) {
            e.preventDefault(); 

            try {
                // Собираем данные
                const baseOption = document.querySelector('#base-options .calc-option.selected .calc-option-name');
                const baseName = baseOption ? baseOption.innerText : "Не выбрано";
                
                const selectedAddons = Array.from(document.querySelectorAll('.calc-option.addon.selected'))
                                            .map(el => el.querySelector('.calc-option-name').innerText);
                
                const selectedPages = Array.from(document.querySelectorAll('.calc-option.seq-page.selected'))
                                           .map(el => el.querySelector('.calc-option-name').innerText);
                
                const totalPrice = document.getElementById('total-price-display').innerText;

                // Формируем посылку
                const dataToSend = {
                    base: baseName,
                    addons: selectedAddons.length > 0 ? selectedAddons.join(", ") : "Нет",
                    pages: selectedPages.length > 0 ? selectedPages.join(", ") : "Нет",
                    total: totalPrice
                };

                // ОТПРАВЛЯЕМ В ТЕЛЕГРАМ
                tg.sendData(JSON.stringify(dataToSend));
                
                // tg.close(); // Можно раскомментировать, если хотите, чтобы окно закрывалось сразу

            } catch (err) {
                alert("Ошибка: " + err); // Если вдруг что-то пойдет не так
            }
        });


        // --- НИЖЕ ВЕСЬ ВАШ ОРИГИНАЛЬНЫЙ КОД ДЛЯ ДИЗАЙНА И ЭФФЕКТОВ ---

        const textLetters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+AL☰X";

        function startMatrixEffect(element) {
            const originalText = element.dataset.value; 
            let iteration = 0;
            clearInterval(element.interval);
            element.interval = setInterval(() => {
                element.innerText = originalText.split("").map((letter, index) => {
                    if(index < iteration) return originalText[index];
                    if (letter === " " || letter === "\n") return letter;
                    return textLetters[Math.floor(Math.random() * textLetters.length)];
                }).join("");
                if(iteration >= originalText.length){ 
                    clearInterval(element.interval);
                    element.innerHTML = element.dataset.originalHtml;
                }
                iteration += 1; // Speed
            }, 20);
        }

        function stopMatrixEffect(element) {
            clearInterval(element.interval);
            element.innerHTML = element.dataset.originalHtml;
        }

        const terminal = document.getElementById('terminal');
        const preloader = document.getElementById('preloader');
        const bootLines = ["INITIALIZING CORE SYSTEMS...", "LOADING ASSETS: 100%", "CONNECTING TO SERVER...", "ESTABLISHING SECURE CONNECTION...", "ACCESS GRANTED.", "WELCOME TO by AL☰X."];
        let lineIndex = 0;
        function addLine() {
            if (lineIndex < bootLines.length) {
                const line = document.createElement('span');
                line.className = 'terminal-line';
                if (lineIndex === bootLines.length - 1) line.classList.add('accent');
                line.textContent = `> ${bootLines[lineIndex]}`;
                terminal.appendChild(line);
                lineIndex++;
                setTimeout(addLine, 50 + Math.random() * 100); 
            } else {
                setTimeout(() => { preloader.classList.add('loaded'); document.body.classList.remove('loading'); }, 400); 
            }
        }
        window.addEventListener('load', () => setTimeout(addLine, 200));

        const gridGlow = document.getElementById('gridGlow');
        const cursorDot = document.querySelector('[data-cursor-dot]');
        const cursorOutline = document.querySelector('[data-cursor-outline]');
        const body = document.body;
        const tiltCards = document.querySelectorAll('[data-tilt]');
        const isMobile = window.matchMedia("(max-width: 900px)").matches;

        if (!isMobile) {
            window.addEventListener('mousemove', (e) => {
                const posX = e.clientX; const posY = e.clientY;
                gridGlow.style.setProperty('--mouse-x', `${posX}px`); gridGlow.style.setProperty('--mouse-y', `${posY}px`);
                cursorDot.style.left = `${posX}px`; cursorDot.style.top = `${posY}px`;
                cursorOutline.animate({ left: `${posX}px`, top: `${posY}px` }, { duration: 500, fill: "forwards" });

                tiltCards.forEach(card => {
                    const rect = card.getBoundingClientRect();
                    const x = e.clientX - rect.left; const y = e.clientY - rect.top;
                    card.style.setProperty('--card-x', `${x}px`); card.style.setProperty('--card-y', `${y}px`);
                    if (e.clientX > rect.left - 50 && e.clientX < rect.right + 50 && e.clientY > rect.top - 50 && e.clientY < rect.bottom + 50) {
                        const centerX = rect.left + rect.width / 2; const centerY = rect.top + rect.height / 2;
                        const rotateX = ((e.clientY - centerY) / rect.height) * -8; 
                        const rotateY = ((e.clientX - centerX) / rect.width) * 8;
                        card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateY(-5px)`;
                    } else {
                        card.style.transform = `perspective(1000px) rotateX(0) rotateY(0) translateY(0)`;
                    }
                });
            });

            const matrixElements = document.querySelectorAll('.hover-matrix');
            matrixElements.forEach(element => {
                element.dataset.originalHtml = element.innerHTML;
                element.addEventListener('mouseenter', () => startMatrixEffect(element));
                element.addEventListener('mouseleave', () => stopMatrixEffect(element));
            });
            
            const hoverEls = document.querySelectorAll('a, button, .cta-btn, .case-card, .price-card, .hover-matrix, .comp-item, .case-btn-full, .calc-option');
            hoverEls.forEach(el => {
                el.addEventListener('mouseenter', () => body.classList.add('hovering'));
                el.addEventListener('mouseleave', () => body.classList.remove('hovering'));
            });
        } 
        
        if (isMobile) {
            const matrixElements = document.querySelectorAll('.hover-matrix');
            matrixElements.forEach(el => { el.dataset.originalHtml = el.innerHTML; });

            const interactiveElements = document.querySelectorAll('.glass-panel, .cta-btn, .case-btn-full, .hover-matrix, .calc-option');
            
            function handleMobileScroll() {
                const centerLine = window.innerHeight / 2;
                const sensitivity = window.innerHeight * 0.15; 

                interactiveElements.forEach(el => {
                    const rect = el.getBoundingClientRect();
                    const elCenter = rect.top + rect.height / 2;
                    const isCenter = elCenter > centerLine - sensitivity && elCenter < centerLine + sensitivity;
                    
                    if (isCenter) {
                        el.classList.add('mobile-hover');
                        const relativeY = centerLine - rect.top;
                        el.style.setProperty('--card-x', `${rect.width / 2}px`);
                        el.style.setProperty('--card-y', `${relativeY}px`);

                        if (el.classList.contains('hover-matrix') && !el.dataset.isAnimating) {
                            el.dataset.isAnimating = "true";
                            startMatrixEffect(el);
                        }

                    } else {
                        el.classList.remove('mobile-hover');
                        if (el.classList.contains('hover-matrix') && el.dataset.isAnimating) {
                            el.dataset.isAnimating = ""; 
                            stopMatrixEffect(el);
                        }
                    }
                });
                
                requestAnimationFrame(handleMobileScroll);
            }
            handleMobileScroll();
        }

        const numLetters = "0123456789";
        function runNumScramble(target) {
            let iteration = 0; const originalText = target.innerText;
            clearInterval(target.interval);
            target.interval = setInterval(() => {
                target.innerText = originalText.split("").map((char, index) => {
                    if (index < iteration) return originalText[index];
                    if (!parseInt(char) && char !== "0") return char; 
                    return numLetters[Math.floor(Math.random() * 10)];
                }).join("");
                if (iteration >= originalText.length) clearInterval(target.interval);
                iteration += 1/2; 
            }, 30);
        }

        const observerOptions = { threshold: 0.15 };
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    const numbers = entry.target.querySelectorAll('.scramble-num');
                    numbers.forEach(num => runNumScramble(num));
                    observer.unobserve(entry.target); 
                }
            });
        }, observerOptions);
        document.querySelectorAll('.fade-in-section').forEach(section => { observer.observe(section); });

        setInterval(() => {
            const glitchTargets = document.querySelectorAll('.glitch-target');
            const globalPhantom = document.querySelector('.global-phantom-img');
            if(globalPhantom) { globalPhantom.classList.add('active'); setTimeout(() => globalPhantom.classList.remove('active'), 450); }
            glitchTargets.forEach(target => {
                const delay = Math.random() * 200;
                setTimeout(() => {
                    target.classList.add('glitch-effect'); target.setAttribute('data-text', target.innerText);
                    setTimeout(() => target.classList.remove('glitch-effect'), 300 + Math.random() * 200);
                }, delay);
            });
        }, 12000);

        const baseOptions = document.querySelectorAll('#base-options .calc-option');
        const addons = document.querySelectorAll('.calc-option.addon');
        const pageButtons = document.querySelectorAll('.calc-option.seq-page');
        const priceDisplay = document.getElementById('total-price-display');
        let basePrice = 15000; let addonsPrice = 0; let pagesPrice = 0;

        function updatePrice() {
            const total = basePrice + addonsPrice + pagesPrice;
            const currentText = priceDisplay.innerText.replace(/[^0-9]/g, '');
            priceDisplay.innerText = total.toLocaleString('ru-RU') + ' ₽';
            runNumScramble(priceDisplay);
        }

        baseOptions.forEach(option => {
            option.addEventListener('click', () => {
                baseOptions.forEach(o => o.classList.remove('selected'));
                option.classList.add('selected');
                basePrice = parseInt(option.dataset.price);
                updatePrice();
            });
        });

        addons.forEach(addon => {
            addon.addEventListener('click', () => {
                addon.classList.toggle('selected');
                if (addon.classList.contains('selected')) addonsPrice += parseInt(addon.dataset.price);
                else addonsPrice -= parseInt(addon.dataset.price);
                updatePrice();
            });
        });

        pageButtons.forEach((btn, index) => {
            btn.addEventListener('click', () => {
                if (!btn.classList.contains('disabled')) {
                    if (btn.classList.contains('selected')) {
                         btn.classList.remove('selected');
                         pagesPrice -= parseInt(btn.dataset.price);
                    } else {
                         btn.classList.add('selected');
                         pagesPrice += parseInt(btn.dataset.price);
                    }
                    updatePrice();
                }
            });
        });
    </script>
</body>
</html>